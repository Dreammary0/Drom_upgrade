<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="/static/css/style.css"/>
    <link rel="stylesheet" type="text/css" href="/static/css/account.css"/>
    <link rel="stylesheet" type="text/css" href="/static/css/footer.css"/>
    <link rel="icon" href="/static/images/favicon.png">
    <title> –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç —Ç–∏–ø–∞ –Ω–∞ –¥—Ä–æ–º–µ </title>
</head>
<body>
<div class="menu">
    <ul>
        <li style="height: 50px; padding: 0; margin: 0;background-color: black;">
            <a href="{{ url_for("index") }}" style="padding: 0; margin: 0;">
                <img src="/static/images/logo.png" style="padding: 0; margin: 0; height: 48px;">
            </a>
        </li>

        {% if not user_id %}
            <li style="float: right; background-color: black;">
                <a style="color: #cccccc;" href={{ url_for("login") }}>–í—Ö–æ–¥ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
            </li>
        {% else %}
            <li style="float: right; background-color: black;">
                <a style="color: #cccccc;" href={{ url_for("logout") }}>–í—ã–π—Ç–∏</a>
            </li>
            <li style="float: right; background-color: black;">
                <a style="color: #cccccc;" href={{ url_for("account") }}>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a>
            </li>

        {% endif %}
        <li style="float: right;"><a href={{ url_for("new_selling") }}><b>&#10753;</b> –ü–æ–¥–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</a></li>
    </ul>
</div>

<div class="wrapper">
    <div class="content-container">
        <form class="form_from_manya">
            <label for="login">–õ–æ–≥–∏–Ω:</label>
            <input type="text" id="login" name="login" value={{ login }} readonly></br>
            <label for="name">–§–ò–û:</label>
            <input type="text" id="name" name="name" value="{{ fio }}" readonly></br>
            <label for="phone">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞:</label>
            <input type="text" id="phone" name="phone" value="{{ phone }}" readonly></br>
            <label for="email">E-mail:</label>
            <input type="email" id="email" name="email" value="{{ email }}" readonly></br>

            <label for="city">–ì–æ—Ä–æ–¥:</label>
            <select id="city" name="city" style="width: 101%;" disabled>
                <option value="" disabled>–í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥</option>
                {% for iter, row in iterrows(cities) %}
                    <option value="{{ row['CityName'] }}" {% if row['CityName'] == town %} selected {% endif %} >
                        {{ row['CityName'] }}
                    </option>
                {% endfor %}
            </select>

            <button id="changedBtn" style="display: block;" type="button" onclick="edit_user_info()">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
                –¥–∞–Ω–Ω—ã–µ
            </button>
            <button type="submit" id="submitBtn" style="display: none;" name='update_account_info' value="update">
                –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
            </button>
        </form>

        <script>
            function edit_user_info() {
                document.getElementById("login").readOnly = false;
                document.getElementById("name").readOnly = false;
                document.getElementById("phone").readOnly = false;
                document.getElementById("email").readOnly = false;
                document.getElementById("city").readOnly = false;

                document.getElementById("changedBtn").style.display = "none";
                document.getElementById("submitBtn").style.display = "block";

                document.getElementById("login").style.border = '1px double black';
                document.getElementById("name").style.border = '1px double black';
                document.getElementById("phone").style.border = '1px double black';
                document.getElementById("email").style.border = '1px double black';
                document.getElementById("city").style.border = '1px double black';
                document.getElementById("city").removeAttribute("disabled");
            }
        </script>

        <h2 class="h2">–°–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</h2>
        <form class="form_from_manya">
            <label for="old_password">–°—Ç–∞—Ä—ã–π –ø–∞—Ä–æ–ª—å:</label>
            <input type="password" id="old_password" name="old_password" required><br>
            <label for="new_password">–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å:</label>
            <input type="password" id="new_password" name="new_password" required><br>
            <button id="update_pwd" style="display: block;" type="submit" name='update_pwd'>–°–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</button>
        </form>


        <h2 class="h2">–°–ø–∏—Å–æ–∫ –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π</h2>
        <div class="content-container">
            {% for iter, row in iterrows(df_favourite_selling) %}
                <div class="selling">
                    {# –¢–∞–±–ª–∏—Ü–∞ –∫–∞–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –≤ –Ω–µ–π –µ—â–µ 3 —Ç–∞–±–ª–∏—Ü—ã - –∫–æ–¥ –Ω–µ–∫—Ä–∞—Å–∏–≤—ã–π, –Ω—É –∏ –ª–∞–¥–Ω–æ,
                –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—É—é –∑–∞–¥–∞—á—É —Ä–µ—à–∞–µ—Ç) #}
                    <table style="table-layout: fixed;">
                        <tr>
                            <td colspan=2>
                                <table>
                                    <tbody>
                                    <tr>
                                        <td>
                                            <h2 style="margin-top: 0;{% if not row['Actuality'] %}text-decoration: line-through;{% endif %}">
                                                    <form>
                                                        {{ str(row['BrandName']) + ' ' + str(row['ModelName']) + ', ' + str(int(row['ReleaseDate'])) }}
                                                        <input type="hidden" name="favourites"
                                                               value={{ int(round(row['IDSelling'])) }}>
                                                        <input type="submit" style="color: #db001a" class="star"
                                                               value="‚òÖ">
                                                        <span style="float: right; margin-top: 0;">{{ str(int(row['Price'])) + ' ‚ÇΩ' }}</span>
                                                    </form>
                                            </h2>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </td>
                        </tr>
                        <tr style="vertical-align: top;">
                            <td>
                                <table>
                                    <tbody>
                                    <tr>
                                        <td>
                                            <p style="color: gray;">–î–≤–∏–≥–∞—Ç–µ–ª—å</p>
                                        </td>
                                        <td>
                                            <p style="margin-top: 0;">{{ row['IDEngine'] + ', ' + row['FuelType'] + ', ' + str(row['Capacity']) + ' –ª' }}</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <p style="color: gray;">–ú–æ—â–Ω–æ—Å—Ç—å</p>
                                        </td>
                                        <td>
                                            <p style="margin-top: 0;">{{ str(int(row['HP'])) + ' –ª.—Å.' }}</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <p style="color: gray;">–ö–æ—Ä–æ–±–∫–∞ –ø–µ—Ä–µ–¥–∞—á</p>
                                        </td>
                                        <td>
                                            <p style="margin-top: 0;">{{ row['TransmissionType'] }}</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <p style="color: gray;">–ü—Ä–∏–≤–æ–¥</p>
                                        </td>
                                        <td>
                                            <p style="margin-top: 0;">{{ row['DriveType'] }}</p>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td>
                                            <p style="color: gray;">VIN / –ù–æ–º–µ—Ä –∫—É–∑–æ–≤–∞:</p>
                                        </td>
                                        <td>
                                            <p style="margin-top: 0;">{{ row['BodyOrVinNumber'] }}</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <p style="color: gray;">–ì–æ—Å. –Ω–æ–º–µ—Ä</p>
                                        </td>
                                        <td>
                                            <p style="margin-top: 0;">{{ row['StateNumber'] }}</p>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </td>
                            <td>
                                <table>
                                    <tr>
                                        <td rowspan=0
                                            style="vertical-align: top; width: 50%; padding-right: 0; padding-left: 50px;">
                                            <p style="margin-top: 0; text-align: left; white-space: pre-wrap;"><span
                                                    style="color: gray;">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: </span>{{ row['Description'] }}
                                            </p>
                                            <p><span style="color: gray;">–ì–æ—Ä–æ–¥: </span>{{ row['CityName'] }}</p>
                                            <p style="color: gray;">–û–±—ä—è–≤–ª–µ–Ω–∏–µ {{ int(row['IDSelling']) }}
                                                –æ—Ç {{ row['AdditionDate'] }} üëÅ: {{ int(row['likes_count']) }}</p>
                                            {% if not row['Actuality'] %}
                                                <h3 style="margin-bottom: 5px;">–ê–≤—Ç–æ–º–æ–±–∏–ª—å —Å–Ω—è—Ç —Å –ø—Ä–æ–¥–∞–∂–∏</h3>
                                                <p>–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–∫—Ä—ã—Ç—ã</p>
                                            {% elif not user_id %}
                                                <p style="color: gray; margin-top: 19px;">–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä
                                                    –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</p>
                                                <a href={{ url_for('login') }}>–ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>
                                            {% else %}
                                                <p style="margin-top: 19px;"><span
                                                        style="color: gray;">–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä: </span>{{ row['PhoneNumber'] }}
                                                </p>
                                            {% endif %}

                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                </div>
            {% endfor %}
        </div>


        <h2 class="h2">–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è</h2>
        <div class="content-container">
            {% for iter, row in iterrows(df_selling) %}
                <div class="selling">
                    {# –¢–∞–±–ª–∏—Ü–∞ –∫–∞–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –≤ –Ω–µ–π –µ—â–µ 3 —Ç–∞–±–ª–∏—Ü—ã - –∫–æ–¥ –Ω–µ–∫—Ä–∞—Å–∏–≤—ã–π, –Ω—É –∏ –ª–∞–¥–Ω–æ,
                –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—É—é –∑–∞–¥–∞—á—É —Ä–µ—à–∞–µ—Ç) #}
                    <table style="table-layout: fixed;">
                        <tr>
                            <td colspan=2>
                                <table>
                                    <tbody>
                                    <tr>
                                        <td>
                                            <h2 style="margin-top: 0;{% if not row['Actuality'] %}text-decoration: line-through;{% endif %}">
                                                {{ row['BrandName'] + ' ' + row['ModelName'] + ', ' + str(int(row['ReleaseDate'])) }}
                                                <span style="float: right; margin-top: 0;">{{ str(int(row['Price'])) + ' ‚ÇΩ' }}</span>
                                            </h2>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </td>
                        </tr>
                        <tr style="vertical-align: top;">
                            <td>
                                <table>
                                    <tbody>
                                    <tr>
                                        <td>
                                            <p style="color: gray;">–î–≤–∏–≥–∞—Ç–µ–ª—å</p>
                                        </td>
                                        <td>
                                            <p style="margin-top: 0;">{{ row['IDEngine'] + ', ' + row['FuelType'] + ', ' + str(row['Capacity']) + ' –ª' }}</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <p style="color: gray;">–ú–æ—â–Ω–æ—Å—Ç—å</p>
                                        </td>
                                        <td>
                                            <p style="margin-top: 0;">{{ str(int(row['HP'])) + ' –ª.—Å.' }}</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <p style="color: gray;">–ö–æ—Ä–æ–±–∫–∞ –ø–µ—Ä–µ–¥–∞—á</p>
                                        </td>
                                        <td>
                                            <p style="margin-top: 0;">{{ row['TransmissionType'] }}</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <p style="color: gray;">–ü—Ä–∏–≤–æ–¥</p>
                                        </td>
                                        <td>
                                            <p style="margin-top: 0;">{{ row['DriveType'] }}</p>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td>
                                            <p style="color: gray;">VIN / –ù–æ–º–µ—Ä –∫—É–∑–æ–≤–∞:</p>
                                        </td>
                                        <td>
                                            <p style="margin-top: 0;">{{ row['BodyOrVinNumber'] }}</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <p style="color: gray;">–ì–æ—Å. –Ω–æ–º–µ—Ä</p>
                                        </td>
                                        <td>
                                            <p style="margin-top: 0;">{{ row['StateNumber'] }}</p>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </td>
                            <td>
                                <table>
                                    <tr>
                                        <td rowspan=0
                                            style="vertical-align: top; width: 50%; padding-right: 0; padding-left: 50px;">
                                            <p style="margin-top: 0; text-align: left; white-space: pre-wrap;"><span
                                                    style="color: gray;">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: </span>{{ row['Description'] }}
                                            </p>
                                            <p><span style="color: gray;">–ì–æ—Ä–æ–¥: </span>{{ row['CityName'] }}</p>
                                            <p style="color: gray;">–û–±—ä—è–≤–ª–µ–Ω–∏–µ {{ int(row['IDSelling']) }}
                                                –æ—Ç {{ row['AdditionDate'] }} üëÅ: {{ int(row['likes_count']) }}</p>
                                            {% if not row['Actuality'] %}
                                                <h3 style="margin-bottom: 5px;">–ê–≤—Ç–æ–º–æ–±–∏–ª—å —Å–Ω—è—Ç —Å –ø—Ä–æ–¥–∞–∂–∏</h3>
                                            {% endif %}
                                            {% if row['IDUser']==user_id %}
                                                {% if row['Actuality'] %}
                                                    <form>
                                                        <input type="hidden" name="idSelling"
                                                               value={{ int(round(row['IDSelling'])) }}>
                                                        <input style="width: 210px;" class="lil_button" type="submit"
                                                               name="remove" value="–£–¥–∞–ª–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ">
                                                        <input style="width: 210px;" class="lil_button" type="submit"
                                                               name="edit_selling" value="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ">
                                                    </form>
                                                {% else %}
                                                    <form>
                                                        <input type="hidden" name="idSelling"
                                                               value={{ int(round(row['IDSelling'])) }}>
                                                        <input style="width: 210px;" class="lil_button" type="submit"
                                                               name="restore" value="–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ">
                                                        <input style="width: 210px;" class="lil_button" type="submit"
                                                               name="edit_selling" value="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ">
                                                    </form>
                                                {% endif %}
                                            {% endif %}
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                </div>
            {% endfor %}
        </div>
    </div>

    <footer>
        <div class="footer-left-all">
            <div class="footer-left" style="  margin-right: 36px;">
                <span class="phone-number">+7 (914) 798-29-55</span>
                <span class="name">–°–∞–∑–æ–Ω—Ç–æ–≤–∞ –ú–∞—Ä–∏—è –î–º–∏—Ç—Ä–∏–µ–≤–Ω–∞</span>
            </div>
            <div class="footer-left">
                <span class="phone-number">+7 (914) 798-19-03</span>
                <span class="name">–î—É–¥–∫–æ –î–µ–Ω–∏—Å –û–ª–µ–≥–æ–≤–∏—á</span>

            </div>
        </div>
        <div class="footer-right">
            <span class="copyright">&copy;2023 –¢–∏–ø–∞ –¥—Ä–æ–º–∞</span>
        </div>
    </footer>
</div>
</div>

</body>
</html>